<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Data for brms Models — standata.default • brms</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data for brms Models — standata.default"><meta name="description" content="Generate data for brms models to be passed to Stan."><meta property="og:description" content="Generate data for brms models to be passed to Stan."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">brms</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.22.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/brms_customfamilies.html">Define Custom Response Distributions with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_distreg.html">Estimating Distributional Models with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_families.html">Parameterization of Response Distributions in brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_missings.html">Handle Missing Values with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_monotonic.html">Estimating Monotonic Effects with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_multivariate.html">Estimating Multivariate Models with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_nonlinear.html">Estimating Non-Linear Models with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_phylogenetics.html">Estimating Phylogenetic Multilevel Models with brms</a></li>
    <li><a class="dropdown-item" href="../articles/brms_threading.html">Running brms models with within-chain parallelization</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/paul-buerkner/brms/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data for <span class="pkg">brms</span> Models</h1>
      <small class="dont-index">Source: <a href="https://github.com/paul-buerkner/brms/blob/HEAD/R/standata.R" class="external-link"><code>R/standata.R</code></a></small>
      <div class="d-none name"><code>standata.default.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate data for <span class="pkg">brms</span> models to be passed to <span class="pkg">Stan</span>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Default S3 method</span></span>
<span><span class="fu"><a href="standata.html">standata</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  prior <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  autocor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cov_ranef <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sample_prior <span class="op">=</span> <span class="st">"no"</span>,</span>
<span>  stanvars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  threads <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"brms.threads"</span>, <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  knots <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_unused_levels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object of class <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code>,
<code><a href="brmsformula.html">brmsformula</a></code>, or <code><a href="mvbrmsformula.html">mvbrmsformula</a></code> (or one that can
be coerced to that classes): A symbolic description of the model to be
fitted. The details of model specification are explained in
<code><a href="brmsformula.html">brmsformula</a></code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An object of class <code>data.frame</code> (or one that can be coerced
to that class) containing data of all variables used in the model.</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>A description of the response distribution and link function to
be used in the model. This can be a family function, a call to a family
function or a character string naming the family. Every family function has
a <code>link</code> argument allowing to specify the link function to be applied
on the response variable. If not specified, default links are used. For
details of supported families see <code><a href="brmsfamily.html">brmsfamily</a></code>. By default, a
linear <code>gaussian</code> model is applied. In multivariate models,
<code>family</code> might also be a list of families.</p></dd>


<dt id="arg-prior">prior<a class="anchor" aria-label="anchor" href="#arg-prior"></a></dt>
<dd><p>One or more <code>brmsprior</code> objects created by
<code><a href="set_prior.html">set_prior</a></code> or related functions and combined using the
<code>c</code> method or the <code>+</code> operator. See also <code><a href="default_prior.default.html">default_prior</a></code>
for more help.</p></dd>


<dt id="arg-autocor">autocor<a class="anchor" aria-label="anchor" href="#arg-autocor"></a></dt>
<dd><p>(Deprecated) An optional <code><a href="cor_brms.html">cor_brms</a></code> object
describing the correlation structure within the response variable (i.e.,
the 'autocorrelation'). See the documentation of <code><a href="cor_brms.html">cor_brms</a></code> for
a description of the available correlation structures. Defaults to
<code>NULL</code>, corresponding to no correlations. In multivariate models,
<code>autocor</code> might also be a list of autocorrelation structures.
It is now recommend to specify autocorrelation terms directly
within <code>formula</code>. See <code><a href="brmsformula.html">brmsformula</a></code> for more details.</p></dd>


<dt id="arg-data-">data2<a class="anchor" aria-label="anchor" href="#arg-data-"></a></dt>
<dd><p>A named <code>list</code> of objects containing data, which
cannot be passed via argument <code>data</code>. Required for some objects
used in autocorrelation structures to specify dependency structures
as well as for within-group covariance matrices.</p></dd>


<dt id="arg-cov-ranef">cov_ranef<a class="anchor" aria-label="anchor" href="#arg-cov-ranef"></a></dt>
<dd><p>(Deprecated) A list of matrices that are proportional to the
(within) covariance structure of the group-level effects. The names of the
matrices should correspond to columns in <code>data</code> that are used as
grouping factors. All levels of the grouping factor should appear as
rownames of the corresponding matrix. This argument can be used, among
others to model pedigrees and phylogenetic effects.
It is now recommended to specify those matrices in the formula
interface using the <code><a href="gr.html">gr</a></code> and related functions. See
<code><a href="../articles/brms_phylogenetics.html">vignette("brms_phylogenetics")</a></code> for more details.</p></dd>


<dt id="arg-sample-prior">sample_prior<a class="anchor" aria-label="anchor" href="#arg-sample-prior"></a></dt>
<dd><p>Indicate if draws from priors should be drawn
additionally to the posterior draws. Options are <code>"no"</code> (the
default), <code>"yes"</code>, and <code>"only"</code>. Among others, these draws can
be used to calculate Bayes factors for point hypotheses via
<code><a href="hypothesis.brmsfit.html">hypothesis</a></code>. Please note that improper priors are not sampled,
including the default improper priors used by <code>brm</code>. See
<code><a href="set_prior.html">set_prior</a></code> on how to set (proper) priors. Please also note
that prior draws for the overall intercept are not obtained by default
for technical reasons. See <code><a href="brmsformula.html">brmsformula</a></code> how to obtain prior
draws for the intercept. If <code>sample_prior</code> is set to <code>"only"</code>,
draws are drawn solely from the priors ignoring the likelihood, which
allows among others to generate draws from the prior predictive
distribution. In this case, all parameters must have proper priors.</p></dd>


<dt id="arg-stanvars">stanvars<a class="anchor" aria-label="anchor" href="#arg-stanvars"></a></dt>
<dd><p>An optional <code>stanvars</code> object generated by function
<code><a href="stanvar.html">stanvar</a></code> to define additional variables for use in
<span class="pkg">Stan</span>'s program blocks.</p></dd>


<dt id="arg-threads">threads<a class="anchor" aria-label="anchor" href="#arg-threads"></a></dt>
<dd><p>Number of threads to use in within-chain parallelization. For
more control over the threading process, <code>threads</code> may also be a
<code>brmsthreads</code> object created by <code><a href="threading.html">threading</a></code>. Within-chain
parallelization is experimental! We recommend its use only if you are
experienced with Stan's <code>reduce_sum</code> function and have a slow running
model that cannot be sped up by any other means. Can be set globally for
the current <span style="R">R</span> session via the <code>"brms.threads"</code> option (see
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>).</p></dd>


<dt id="arg-knots">knots<a class="anchor" aria-label="anchor" href="#arg-knots"></a></dt>
<dd><p>Optional list containing user specified knot values to be used
for basis construction of smoothing terms. See
<code><a href="https://rdrr.io/pkg/mgcv/man/gamm.html" class="external-link">gamm</a></code> for more details.</p></dd>


<dt id="arg-drop-unused-levels">drop_unused_levels<a class="anchor" aria-label="anchor" href="#arg-drop-unused-levels"></a></dt>
<dd><p>Should unused factors levels in the data be
dropped? Defaults to <code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments for internal use.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list of objects containing the required data
  to fit a <span class="pkg">brms</span> model with <span class="pkg">Stan</span>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">sdata1</span> <span class="op">&lt;-</span> <span class="fu"><a href="standata.html">standata</a></span><span class="op">(</span><span class="va">rating</span> <span class="op">~</span> <span class="va">treat</span> <span class="op">+</span> <span class="va">period</span> <span class="op">+</span> <span class="va">carry</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">subject</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   data <span class="op">=</span> <span class="va">inhaler</span>, family <span class="op">=</span> <span class="st">"cumulative"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sdata1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ N         : int 572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Y         : num [1:572(1d)] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ nthres    : int 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ K         : int 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Kc        : num 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ X         : num [1:572, 1:3] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:572] "1" "2" "3" "4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:3] "treat" "period" "carry"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Z_1_1     : num [1:572(1d)] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:572] "1" "2" "3" "4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ disc      : num 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ J_1       : int [1:572(1d)] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ N_1       : int 286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ M_1       : int 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ NC_1      : int 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ prior_only: int 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "class")= chr [1:2] "standata" "list"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sdata2</span> <span class="op">&lt;-</span> <span class="fu"><a href="standata.html">standata</a></span><span class="op">(</span><span class="va">count</span> <span class="op">~</span> <span class="va">zAge</span> <span class="op">+</span> <span class="va">zBase</span> <span class="op">*</span> <span class="va">Trt</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">patient</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   data <span class="op">=</span> <span class="va">epilepsy</span>, family <span class="op">=</span> <span class="st">"poisson"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">sdata2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ N         : int 236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Y         : num [1:236(1d)] 5 3 2 4 7 5 6 40 5 14 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ K         : int 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Kc        : num 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ X         : num [1:236, 1:5] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:236] "1" "2" "3" "4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:5] "Intercept" "zAge" "zBase" "Trt1" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "assign")= int [1:5] 0 1 2 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "contrasts")=List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ Trt: num [1:2, 1] 0 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. ..- attr(*, "dimnames")=List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : chr [1:2] "0" "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. .. .. ..$ : chr "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Z_1_1     : num [1:236(1d)] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "dimnames")=List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..$ : chr [1:236] "1" "2" "3" "4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ J_1       : int [1:236(1d)] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ N_1       : int 59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ M_1       : int 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ NC_1      : int 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ prior_only: int 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "class")= chr [1:2] "standata" "list"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul-Christian Bürkner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

